# 医问 3.0 · 前端宪法（Frontend Constitution）

## 0. 宪法地位（最高优先级）

本文件是 **医问 3.0 前端项目的最高约束文档**。

当以下内容发生冲突时，**优先级顺序如下**：

1. 本《前端宪法》
2. Phase-B 执行文档
3. 项目框架文档
4. 具体页面 / 组件代码
5. Claude / 工程师的“合理推断”

**任何违反本宪法的代码，视为错误实现。**

---

## 1. 前端的唯一身份定义

前端在医问 3.0 中的身份只有一个：

> **“结果展示器（Result Renderer）”**

前端 **不是**：

- ❌ 数据分析器
- ❌ 趋势计算器
- ❌ 医学判断者
- ❌ 风险解释者
- ❌ 用户决策引导者

前端 **只能做**：

- 展示后端给出的字段
- 根据状态切换 UI
- 处理用户交互流程（点击 / 跳转 / 展开）

---

## 2. 前端的计算禁区（绝对禁止）

前端 **禁止进行任何形式的“业务计算”**，包括但不限于：

### 2.1 趋势计算（禁止）

- ❌ 不得根据历史数据计算上升 / 下降 / 稳定
- ❌ 不得自行比较数值大小得出结论
- ❌ 不得根据时间序列“看起来像趋势”

> 如果界面上出现“趋势”相关内容，
> **必须来自后端字段，且直接展示。**

---

### 2.2 医学 / 健康语义推断（禁止）

- ❌ 不得判断“正常 / 异常”
- ❌ 不得判断“风险 / 安全”
- ❌ 不得使用隐含医学语义的颜色（如红=危险）

---

### 2.3 综合判断与合成指标（禁止）

- ❌ 不得合并多个指标为“综合状态”
- ❌ 不得排序为“更健康 / 更不健康”
- ❌ 不得生成评分、等级、标签

---

## 3. 文案宪法（语言是法律）

### 3.1 文案来源规则（强制）

前端页面中出现的 **所有业务文案**：

- ✅ 必须来自：

  - Phase-B 文档中定义的模板
  - 或后端直接返回的字符串字段

- ❌ 不得由前端 / Claude 自行编写“更友好”的表达

---

### 3.2 文案禁止事项

前端 **禁止出现**：

- 行动建议（如“建议就医”）
- 结果解释（如“说明你的身体状况…”）
- 未来预测（如“可能导致…”）

前端 **只允许描述事实存在**：

- “数据不足”
- “变化幅度较大”
- “近期出现波动”

---

## 4. UI 表达宪法（表现 ≠ 含义）

### 4.1 颜色规则

- 颜色 **只能用于区分结构**，不能用于暗示含义
- 禁止使用“红/黄/绿”表达健康程度
- 同一指标在不同状态下，颜色变化必须**无语义化**

---

### 4.2 图表规则

- 图表 **只表达数据形态**
- 不使用：

  - 强调峰值的视觉效果
  - 引导注意力的动画暗示

- 单条数据 → 数值展示
- 多条数据 → 折线 / 柱状（无语义装饰）

---

## 5. 架构服从宪法（写代码的边界）

Claude / 工程师 **必须服从项目既有架构**：

### 5.1 不可逾越的结构边界

- UI 只能写在 `pages/` 和 `widgets/`
- 业务流程只能写在 `helpers/`（Controller）
- 状态只能通过 `providers/` 读取
- 数据来源只能来自 Provider / 后端字段

---

### 5.2 禁止的写法

- ❌ 在 Widget 中写 if/else 推断业务含义
- ❌ 在 UI 层遍历数据后“顺手算一下”
- ❌ 绕过 Provider 直接操作数据

---

## 6. Claude 专用约束条款（AI 行为锁）

当 Claude 生成前端代码时，必须遵守以下规则：

1. **不补业务逻辑**
2. **不解释数据含义**
3. **不优化“用户理解”**
4. **不假设字段语义**
5. **只根据已有字段和文档写 UI**

如果信息不足：

> **必须停止，并提出“需要后端字段定义”的请求**

而不是自行推断。

---

## 7. 验收即法律（完成定义）

一个前端功能 **只要满足以下条件，即视为完成**：

- 页面能正常展示
- 所有字段均来自后端或文档
- 没有新增任何判断逻辑
- 没有新增任何解释性语言

**是否“看起来聪明”，不是验收标准。**

---

## 8. 宪法的修改规则

- 本宪法 **不得被临时修改**
- 任何修改：

  - 必须同步更新 Phase-B 文档
  - 必须重新评估前端职责边界

---

## 最终声明（写给 AI 的）

> 医问 3.0 的前端成功标准不是“多智能”，
> 而是：
>
> **在高度不确定的健康语境中，绝不越权。**
